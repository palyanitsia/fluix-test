(()=>{"use strict";const t="lazy",e="."+t,s="lazy--loaded",o="lazy--animated",a="lazy--finished",r=t=>{let e;try{e=new URL(t).pathname}catch{e=t}return e},c=t=>{const e=t.target;e.classList.contains(o)&&(setTimeout((()=>{e.classList.remove(a)}),10),e.classList.remove(o))},i=(t,e)=>{const s=t.querySelector("source");return s?s.hasAttribute(e):t.hasAttribute(e)},n=(t,e)=>{const s=t.querySelector("source");return s?s.getAttribute(e):t.getAttribute(e)},l=e=>{const c=e.target,l=r(n(c,"src")),d=r(n(c,"data-src")),h=n(c,"srcset"),u=n(c,"data-srcset"),m=i(c,"data-src")&&d===l,g=i(c,"data-srcset")&&u===h;!m&&!g||(e=>{e.classList.add(a),e.classList.add(o),e.classList.add(s),e.classList.remove(t);const r=new CustomEvent("imageLazyLoaded",{detail:e});window.dispatchEvent(r),e.classList.remove(s)})(c)};class d{constructor(t){this.element=t,this.items=this.element.querySelectorAll(".flx-accordion__item"),this.collapsed=this.element.getAttribute("data-collapsed"),this.init(),window.addEventListener("orientationchange",(()=>{this.reset()}))}init(){this.items.forEach((t=>{const e=t.querySelector(".flx-accordion__button"),s=t.querySelector(".flx-accordion__collapse");this.resetItemState(t,e,s),e.addEventListener("click",(()=>{this.toggleItemState(t,e,s)}))}))}resetItemState(t,e,s){e.setAttribute("aria-expanded","false"),s.classList.remove("show"),t.classList.remove("show"),s.style.height=null}toggleItemState(t,e,s){const o="true"===e.getAttribute("aria-expanded");e.setAttribute("aria-expanded",`${!o}`),t.classList.toggle("show"),s.classList.toggle("show"),s.style.height?s.style.height=null:s.style.height=`${s.scrollHeight}px`,"true"===this.collapsed&&this.collapseAllItems(t)}collapseAllItems(t){this.items.forEach((e=>{if(e!==t){const t=e.querySelector(".flx-accordion__button"),s=e.querySelector(".flx-accordion__collapse");this.resetItemState(e,t,s)}}))}reset(){this.items.forEach((t=>{const e=t.querySelector(".flx-accordion__button"),s=t.querySelector(".flx-accordion__collapse");this.resetItemState(t,e,s)}))}}new class{constructor(){this.accordions=document.querySelectorAll(".flx-accordion"),this.init(),document.addEventListener("DOMContentLoaded",(function(){window.addEventListener("transitionend",c);const t=document.querySelectorAll(e),s=new IntersectionObserver((function(t){t.forEach((function(t){if(!t.isIntersecting)return;const e=t.target;(t=>{t.onload=l,t.dataset.src&&(t.src=t.dataset.src),t.dataset.srcset&&(t.srcset=t.dataset.srcset);const e=t.closest("video");if(e){for(let t in e.children){const s=e.children[t];"string"==typeof s.tagName&&"SOURCE"===s.tagName&&(s.src=s.dataset.src)}e.onloadeddata=l,e.load()}})(e),s.unobserve(e)}))}),{rootMargin:"30%"});t.forEach((function(t){s.observe(t)}))}))}init(){document.addEventListener("DOMContentLoaded",(()=>{this.accordions.forEach((t=>{new d(t)}))}))}}})();